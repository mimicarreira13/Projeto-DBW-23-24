import*as userModel from"../models/users.js";import passport from"passport";export function registerGet(req,res){res.render("criar_conta",{isAuthenticated:req.isAuthenticated()})}export async function registerPost(req,res){console.log("registerPost"),console.log(req.body),await userModel.registerUser(req.body)&&res.redirect("/login")}export function loginGet(req,res){res.render("login",{isAuthenticated:req.isAuthenticated()})}export async function loginPost(req,res,next){console.log("loginPost"),console.log(req.body);const test=await passport.authenticate("local",{successRedirect:"/",failureRedirect:"/loginFailed"})(req,res,next);console.log(test)}export function loginFailedGet(req,res){res.render("loginFailed",{isAuthenticated:req.isAuthenticated(),errorMessage:"O utilizador n√£o existe!"})}export function logoutGet(req,res){console.log("logoutGet"),console.log(req.user),req.logout((function(err){if(err)return next(err);res.redirect("/")}))}